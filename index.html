<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>IM SHU 使用說明</title>
  </head>
  <body>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script>
      // 你的 LIFF ID
      const LIFF_ID = "2008333589-W41ZxmXo";

      // 使用說明圖片（GitHub Pages 上的公開網址）
      const IMG_URL = "https://a111223004.github.io/imshu-liff/%E4%BD%BF%E7%94%A8%E8%AA%AA%E6%98%8E.png";

      (async () => {
        try {
          // 初始化 LIFF
          await liff.init({ liffId: LIFF_ID });

          // 確認是否在 LINE App 內打開
          if (!liff.isInClient()) {
            alert("請從 LINE 圖文選單內開啟此連結。");
            return;
          }

          // 先發文字，再發圖片
          await liff.sendMessages([
            {
              type: "text",
              text: "使用說明"
            },
            {
              type: "image",
              originalContentUrl: IMG_URL,
              previewImageUrl: IMG_URL
            }
          ]);

          // 傳送後自動關閉 LIFF 頁面
          liff.closeWindow();

        } catch (err) {
          alert("發送失敗，請確認圖片網址可公開讀取。\n詳細錯誤：" + err);
        }
      })();
    </script>
  </body>
</html>
